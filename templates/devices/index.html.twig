{% extends 'base.html.twig' %}

{% block title %}Hello UsersController!{% endblock %}

{% block content %}

    <div class="container">

        <div class="row">

            <div class="col-4">
                <a href="{{ path('new_device') }}" class="btn btn-primary">Add new device</a>
            </div>
            <div class="col-4">
                <a href="{{ path('new_user') }}" class="btn btn-primary">Add new user</a>
            </div>
            <div class="col-4">
                <a href="{{ path('users') }}" class="btn btn-primary">View all users</a>
            </div>

        </div>

        {% for device in devices %}

            <div class="row">
                <div class="col-4"> {{ device.name|e }}</div>
                <div class="col-4"> {{ device.type|e }}</div>
                <div class="col-4">
                    {% if device.owner %}
                        <span>Belongs to: {{ device.owner.username }}</span>
                        <a href="{{ path('remove_device', {device: device.id}) }}">Remove from user</a>
                    {% else %}
                        <a href="{{ path('assign_device', {device: device.id}) }}">Assign to a user</a>
                    {% endif %}
                </div>
            </div>

        {% endfor %}
    </div>
{% endblock %}
